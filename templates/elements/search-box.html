<form class="search" action="/list" method="POST">

    <!-- Form name: -->
    <h2>Search</h2>

    <!--
        Form content is divided up into sections called "form groups". These serve
        the purpose of making it easier to style the over-all form.
    -->

    <div class="form-group" id="fast-search">

        <!-- Form group content: -->

        <div class="text-search">
            <label for="text_search">Text Search:</label>
            <input id="text_search" type="text" name="text_search" value="{{ previous_text_search }}">

            <input type="submit" value="Search">
        </div>

        <div class="sort-field">
            <label for="sort_field">Field to Sort:</label>
            <select id="sort_field" name="sort_field">
                {% for field in sortable_fields.keys() %}
                    <option value="{{field}}" {% if previous_sort_field == field %}selected="selected"{%endif%}>{{ sortable_fields[field] }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="sort-order">
            <label for="sort_order">Sort Order:</label>
            <select id="sort_order" name="sort_order">
                <option value="asc">Ascending</option>
                <option value="desc">Descending</option>
            </select>
        </div>

    </div>

    <div class="form-group" id="field-search">

        <!-- Form group title and description: -->
        <h4>Search Fields</h4>
        <p>Which fields would you like for us to search in?</p>

        <!-- Form group content: -->
        <ul>
            {% for field in searchable_fields.keys() %}
                <li>
                    <input type="checkbox" name="search_fields" value="{{field}}" {% if field in previous_search_fields %}checked{%endif%}>
                    <span>{{ searchable_fields[field] }}</span>
                </li>
            {% endfor %}
        </ul>

    </div>

    <div class="form-group" id="tech-search">

        <!-- Form group title and description: -->
        <h4>Techniques</h4>
        <p>Which techniques must have been used?</p>

        <!-- Form group content: -->
        <ul>
            {% for technique in techniques %}
                <li>
                    <input type="checkbox" name="technique" value="{{ technique }}"  {% if technique in previous_techniques %}checked{%endif%}>
                    <span>{{ technique }}</span>
                </li>
            {% endfor %}
        </ul>

    </div>

</form>
